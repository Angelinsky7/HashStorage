!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("hashstorage",[],t):"object"==typeof exports?exports.hashstorage=t():e.hashstorage=t()}(this,function(){return function(e){function t(e){delete installedChunks[e]}function n(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.src=f.p+""+e+"."+m+".hot-update.js",t.appendChild(n)}function r(e){return e=e||1e4,new Promise(function(t,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,o=f.p+""+m+".hot-update.json";r.open("GET",o,!0),r.timeout=e,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)t();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+o+" failed."));else{try{var e=JSON.parse(r.responseText)}catch(e){return void n(e)}t(e)}}})}function o(e){var t=M[e];if(!t)return f;var n=function(n){return t.hot.active?(M[n]?M[n].parents.indexOf(e)<0&&M[n].parents.push(e):(O=[e],v=n),t.children.indexOf(n)<0&&t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),O=[]),f(n)};for(var r in f)Object.prototype.hasOwnProperty.call(f,r)&&"e"!==r&&Object.defineProperty(n,r,function(e){return{configurable:!0,enumerable:!0,get:function(){return f[e]},set:function(t){f[e]=t}}}(r));return n.e=function(e){function t(){P--,"prepare"===D&&(I[e]||p(e),0===P&&0===H&&h())}return"ready"===D&&s("prepare"),P++,f.e(e).then(t,function(e){throw t(),e})},n}function i(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:v!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:c,apply:l,status:function(e){if(!e)return D;j.push(e)},addStatusHandler:function(e){j.push(e)},removeStatusHandler:function(e){var t=j.indexOf(e);t>=0&&j.splice(t,1)},data:w[e]};return v=void 0,t}function s(e){D=e;for(var t=0;t<j.length;t++)j[t].call(null,e)}function a(e){return+e+""===e?+e:e}function c(e){if("idle"!==D)throw new Error("check() is only allowed in idle status");return g=e,s("check"),r(S).then(function(e){if(!e)return s("idle"),null;x={},I={},A=e.c,b=e.h,s("prepare");var t=new Promise(function(e,t){y={resolve:e,reject:t}});return _={},p(0),"prepare"===D&&0===P&&0===H&&h(),t})}function u(e,t){if(A[e]&&x[e]){x[e]=!1;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(_[n]=t[n]);0==--H&&0===P&&h()}}function p(e){A[e]?(x[e]=!0,H++,n(e)):I[e]=!0}function h(){s("ready");var e=y;if(y=null,e)if(g)Promise.resolve().then(function(){return l(g)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in _)Object.prototype.hasOwnProperty.call(_,n)&&t.push(a(n));e.resolve(t)}}function l(n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.indexOf(r)<0&&e.push(r)}}if("ready"!==D)throw new Error("apply() is only allowed in ready status");n=n||{};var o,i,c,u,p,h={},l=[],d={},v=function(){console.warn("[HMR] unexpected require("+g.moduleId+") to disposed module")};for(var y in _)if(Object.prototype.hasOwnProperty.call(_,y)){p=a(y);var g;g=_[y]?function(e){for(var t=[e],n={},o=t.slice().map(function(e){return{chain:[e],id:e}});o.length>0;){var i=o.pop(),s=i.id,a=i.chain;if((u=M[s])&&!u.hot._selfAccepted){if(u.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:s};if(u.hot._main)return{type:"unaccepted",chain:a,moduleId:s};for(var c=0;c<u.parents.length;c++){var p=u.parents[c],h=M[p];if(h){if(h.hot._declinedDependencies[s])return{type:"declined",chain:a.concat([p]),moduleId:s,parentId:p};t.indexOf(p)>=0||(h.hot._acceptedDependencies[s]?(n[p]||(n[p]=[]),r(n[p],[s])):(delete n[p],t.push(p),o.push({chain:a.concat([p]),id:p})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}(p):{type:"disposed",moduleId:y};var S=!1,E=!1,j=!1,H="";switch(g.chain&&(H="\nUpdate propagation: "+g.chain.join(" -> ")),g.type){case"self-declined":n.onDeclined&&n.onDeclined(g),n.ignoreDeclined||(S=new Error("Aborted because of self decline: "+g.moduleId+H));break;case"declined":n.onDeclined&&n.onDeclined(g),n.ignoreDeclined||(S=new Error("Aborted because of declined dependency: "+g.moduleId+" in "+g.parentId+H));break;case"unaccepted":n.onUnaccepted&&n.onUnaccepted(g),n.ignoreUnaccepted||(S=new Error("Aborted because "+p+" is not accepted"+H));break;case"accepted":n.onAccepted&&n.onAccepted(g),E=!0;break;case"disposed":n.onDisposed&&n.onDisposed(g),j=!0;break;default:throw new Error("Unexception type "+g.type)}if(S)return s("abort"),Promise.reject(S);if(E){d[p]=_[p],r(l,g.outdatedModules);for(p in g.outdatedDependencies)Object.prototype.hasOwnProperty.call(g.outdatedDependencies,p)&&(h[p]||(h[p]=[]),r(h[p],g.outdatedDependencies[p]))}j&&(r(l,[g.moduleId]),d[p]=v)}var P=[];for(i=0;i<l.length;i++)p=l[i],M[p]&&M[p].hot._selfAccepted&&P.push({module:p,errorHandler:M[p].hot._selfAccepted});s("dispose"),Object.keys(A).forEach(function(e){!1===A[e]&&t(e)});for(var I,x=l.slice();x.length>0;)if(p=x.pop(),u=M[p]){var C={},L=u.hot._disposeHandlers;for(c=0;c<L.length;c++)(o=L[c])(C);for(w[p]=C,u.hot.active=!1,delete M[p],delete h[p],c=0;c<u.children.length;c++){var z=M[u.children[c]];z&&(I=z.parents.indexOf(p))>=0&&z.parents.splice(I,1)}}var U,B;for(p in h)if(Object.prototype.hasOwnProperty.call(h,p)&&(u=M[p]))for(B=h[p],c=0;c<B.length;c++)U=B[c],(I=u.children.indexOf(U))>=0&&u.children.splice(I,1);s("apply"),m=b;for(p in d)Object.prototype.hasOwnProperty.call(d,p)&&(e[p]=d[p]);var N=null;for(p in h)if(Object.prototype.hasOwnProperty.call(h,p)&&(u=M[p])){B=h[p];var k=[];for(i=0;i<B.length;i++)if(U=B[i],o=u.hot._acceptedDependencies[U]){if(k.indexOf(o)>=0)continue;k.push(o)}for(i=0;i<k.length;i++){o=k[i];try{o(B)}catch(e){n.onErrored&&n.onErrored({type:"accept-errored",moduleId:p,dependencyId:B[i],error:e}),n.ignoreErrored||N||(N=e)}}}for(i=0;i<P.length;i++){var T=P[i];p=T.module,O=[p];try{f(p)}catch(e){if("function"==typeof T.errorHandler)try{T.errorHandler(e)}catch(t){n.onErrored&&n.onErrored({type:"self-accept-error-handler-errored",moduleId:p,error:t,orginalError:e}),n.ignoreErrored||N||(N=t),N||(N=e)}else n.onErrored&&n.onErrored({type:"self-accept-errored",moduleId:p,error:e}),n.ignoreErrored||N||(N=e)}}return N?(s("fail"),Promise.reject(N)):(s("idle"),new Promise(function(e){e(l)}))}function f(t){if(M[t])return M[t].exports;var n=M[t]={i:t,l:!1,exports:{},hot:i(t),parents:(E=O,O=[],E),children:[]};return e[t].call(n.exports,n,n.exports,o(t)),n.l=!0,n.exports}var d=this.webpackHotUpdatehashstorage;this.webpackHotUpdatehashstorage=function(e,t){u(e,t),d&&d(e,t)};var v,y,_,b,g=!0,m="9d87f28e1fcdeea803b7",S=1e4,w={},O=[],E=[],j=[],D="idle",H=0,P=0,I={},x={},A={},M={};return f.m=e,f.c=M,f.d=function(e,t,n){f.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},f.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return f.d(t,"a",t),t},f.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},f.p="/",f.h=function(){return m},o(1)(f.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){void 0===e&&(e=null),this.m_Separator="#!",null!==e&&(this.m_Separator=e)}return e}();t.StorageBase=r},function(e,t,n){e.exports=n(2)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.HashStorage=r.HashStorage;var o=n(7);t.StorageHash=o.StorageHash;var i=n(8);t.Storage64=i.Storage64;var s=n(9);t.StorageParams=s.StorageParams},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=n(5),i=n(6),s=function(){function e(e,t){void 0===t&&(t=null);var n=this;if(this.m_IsDisposed=!1,null===e)throw"Mode cannot be null";this.m_Mode=e,this.setOptions(t),this.m_IsUpdating=new r.PropertyCounter,this.m_Storage=new Map,this.e_HashChangedEvent=new i.EventDispatcher,this.m_Options.Debug&&console.log("Mode is "+e.constructor.name),window.addEventListener("hashchange",function(){n.onHashChangeListener()}),this.ReadHash()}return Object.defineProperty(e.prototype,"hashChanged",{get:function(){return this.e_HashChangedEvent.asEvent()},enumerable:!0,configurable:!0}),e.prototype.setOptions=function(e){var t={AutoSave:!0,Debug:!1};null!=e&&o.ObjectExtensions.override(t,e),this.m_Options=t},e.prototype.onHashChangeListener=function(){this.m_IsUpdating.end(),this.m_IsUpdating.isEnabled||this.ReadHash()},e.prototype.onHashChanged=function(){this.e_HashChangedEvent.dispatch(this,{})},e.prototype.save=function(){var e=this.m_Mode.Save(this.m_Storage);e!==this.m_PreviousHash&&(this.m_IsUpdating.begin(),this.m_PreviousHash=e,window.location.replace(e))},e.prototype.dispose=function(){if(this.m_IsDisposed)throw"HashStorage is already disposed";this.clear(),this.m_Storage=null,this.m_Mode=null,window.removeEventListener("hashchange",this.onHashChangeListener),this.m_IsDisposed=!0},e.prototype.setItem=function(e,t){if(this.m_IsDisposed)throw"HashStorage is already disposed";this.m_Storage.has(e)||this.m_Storage.delete(e),this.m_Storage.set(e,t),this.m_Options.AutoSave&&this.save()},e.prototype.removeItem=function(e){if(this.m_IsDisposed)throw"HashStorage is already disposed";this.m_Storage.has(e)&&this.m_Storage.delete(e),this.m_Options.AutoSave&&this.save()},e.prototype.getItem=function(e){if(this.m_IsDisposed)throw"HashStorage is already disposed";return this.m_Storage.has(e)?this.m_Storage.get(e):null},e.prototype.clear=function(){if(this.m_IsDisposed)throw"HashStorage is already disposed";this.m_Storage.clear(),this.m_Options.AutoSave&&this.save()},e.prototype.ReadHash=function(){var e=this;this.m_Storage.clear(),this.m_Mode.Load().forEach(function(t,n){e.m_Storage.set(n,t)}),this.m_PreviousHash=window.location.hash,this.m_Options.Debug&&console.log(this.m_Storage),this.onHashChanged()},e}();t.HashStorage=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.m_Count=0}return Object.defineProperty(e.prototype,"Count",{get:function(){return this.m_Count},enumerable:!0,configurable:!0}),e.prototype.begin=function(){++this.m_Count},e.prototype.end=function(){--this.m_Count<0&&(this.m_Count=0)},Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this.m_Count>0},enumerable:!0,configurable:!0}),e}();t.PropertyCounter=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.extend=function(e,t){var n=e;for(var r in t)n.hasOwnProperty(r)||(n[r]=t[r]);return n},e.override=function(e,t){var n=e;for(var r in t)n.hasOwnProperty(r)&&(n[r]=t[r]);return n},e.isNumeric=function(e){return!isNaN(e)},e}();t.ObjectExtensions=r},function(e,t,n){"use strict";function r(){return new l}function o(){return new _}function i(){return new f}function s(){return new b}function a(){return new d}function c(){return new g}var u=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},p=function(){function e(e,t){this.handler=e,this.isOnce=t,this.isExecuted=!1}return e.prototype.execute=function(e,t,n){if(!this.isOnce||!this.isExecuted){this.isExecuted=!0;var r=this.handler;e?setTimeout(function(){r.apply(t,n)},1):r.apply(t,n)}},e}();t.Subscription=p;var h=function(){function e(){this._wrap=new v(this),this._subscriptions=new Array}return e.prototype.subscribe=function(e){e&&this._subscriptions.push(new p(e,!1))},e.prototype.sub=function(e){this.subscribe(e)},e.prototype.one=function(e){e&&this._subscriptions.push(new p(e,!0))},e.prototype.has=function(e){if(e)for(var t=0,n=this._subscriptions;t<n.length;t++){var r=n[t];if(r.handler==e)return!0}return!1},e.prototype.unsubscribe=function(e){if(e)for(var t=0;t<this._subscriptions.length;t++){var n=this._subscriptions[t];if(n.handler==e){this._subscriptions.splice(t,1);break}}},e.prototype.unsub=function(e){this.unsubscribe(e)},e.prototype._dispatch=function(e,t,n){for(var r=0;r<this._subscriptions.length;r++){var o=this._subscriptions[r];if(o.isOnce){if(!0===o.isExecuted)continue;this._subscriptions.splice(r,1),r--}o.execute(e,t,n)}},e.prototype.asEvent=function(){return this._wrap},e.prototype.clear=function(){this._subscriptions.splice(0,this._subscriptions.length)},e}();t.DispatcherBase=h;var l=function(e){function t(){return e.call(this)||this}return u(t,e),t.prototype.dispatch=function(e,t){this._dispatch(!1,this,arguments)},t.prototype.dispatchAsync=function(e,t){this._dispatch(!0,this,arguments)},t.prototype.asEvent=function(){return e.prototype.asEvent.call(this)},t}(h);t.EventDispatcher=l;var f=function(e){function t(){return e.call(this)||this}return u(t,e),t.prototype.dispatch=function(e){this._dispatch(!1,this,arguments)},t.prototype.dispatchAsync=function(e){this._dispatch(!0,this,arguments)},t.prototype.asEvent=function(){return e.prototype.asEvent.call(this)},t}(h);t.SimpleEventDispatcher=f;var d=function(e){function t(){return e.call(this)||this}return u(t,e),t.prototype.dispatch=function(){this._dispatch(!1,this,arguments)},t.prototype.dispatchAsync=function(){this._dispatch(!0,this,arguments)},t.prototype.asEvent=function(){return e.prototype.asEvent.call(this)},t}(h);t.SignalDispatcher=d;var v=function(){function e(e){this._subscribe=function(t){return e.subscribe(t)},this._unsubscribe=function(t){return e.unsubscribe(t)},this._one=function(t){return e.one(t)},this._has=function(t){return e.has(t)},this._clear=function(){return e.clear()}}return e.prototype.subscribe=function(e){this._subscribe(e)},e.prototype.sub=function(e){this.subscribe(e)},e.prototype.unsubscribe=function(e){this._unsubscribe(e)},e.prototype.unsub=function(e){this.unsubscribe(e)},e.prototype.one=function(e){this._one(e)},e.prototype.has=function(e){return this._has(e)},e.prototype.clear=function(){this._clear()},e}();t.DispatcherWrapper=v;var y=function(){function e(){this._events={}}return e.prototype.get=function(e){var t=this._events[e];return t||(t=this.createDispatcher(),this._events[e]=t,t)},e.prototype.remove=function(e){this._events[e]=null},e}();t.EventListBase=y;var _=function(e){function t(){return e.call(this)||this}return u(t,e),t.prototype.createDispatcher=function(){return new l},t}(y);t.EventList=_;var b=function(e){function t(){return e.call(this)||this}return u(t,e),t.prototype.createDispatcher=function(){return new f},t}(y);t.SimpleEventList=b;var g=function(e){function t(){return e.call(this)||this}return u(t,e),t.prototype.createDispatcher=function(){return new d},t}(y);t.SignalList=g;var m=function(){function e(){this._events=new _}return Object.defineProperty(e.prototype,"events",{get:function(){return this._events},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e,t){this._events.get(e).subscribe(t)},e.prototype.sub=function(e,t){this.subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._events.get(e).unsubscribe(t)},e.prototype.unsub=function(e,t){this.unsubscribe(e,t)},e.prototype.one=function(e,t){this._events.get(e).one(t)},e.prototype.has=function(e,t){return this._events.get(e).has(t)},e}();t.EventHandlingBase=m;var S=function(){function e(){this._events=new b}return Object.defineProperty(e.prototype,"events",{get:function(){return this._events},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e,t){this._events.get(e).subscribe(t)},e.prototype.sub=function(e,t){this.subscribe(e,t)},e.prototype.one=function(e,t){this._events.get(e).one(t)},e.prototype.has=function(e,t){return this._events.get(e).has(t)},e.prototype.unsubscribe=function(e,t){this._events.get(e).unsubscribe(t)},e.prototype.unsub=function(e,t){this.unsubscribe(e,t)},e}();t.SimpleEventHandlingBase=S;var w=function(){function e(){this._events=new g}return Object.defineProperty(e.prototype,"events",{get:function(){return this._events},enumerable:!0,configurable:!0}),e.prototype.one=function(e,t){this._events.get(e).one(t)},e.prototype.has=function(e,t){return this._events.get(e).has(t)},e.prototype.subscribe=function(e,t){this._events.get(e).subscribe(t)},e.prototype.sub=function(e,t){this.subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._events.get(e).unsubscribe(t)},e.prototype.unsub=function(e,t){this.unsubscribe(e,t)},e}();t.SignalHandlingBase=w,t.createEventDispatcher=r,t.createEventList=o,t.createSimpleEventDispatcher=i,t.createSimpleEventList=s,t.createSignalDispatcher=a,t.createSignalList=c;var O={EventList:_,SimpleEventList:b,SignalList:g,createEventList:o,createSimpleEventList:s,createSignalList:c,EventDispatcher:l,SimpleEventDispatcher:f,SignalDispatcher:d,EventHandlingBase:m,SimpleEventHandlingBase:S,SignalHandlingBase:w,createEventDispatcher:r,createSimpleEventDispatcher:i,createSignalDispatcher:a,EventListBase:y,DispatcherBase:h,DispatcherWrapper:v};t.IStronglyTypedEvents=O,t.IStronglyTypedEvents,Object.defineProperty(t,"__esModule",{value:!0}),t.default=O},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=function(e){function t(t){return void 0===t&&(t=null),e.call(this,t)||this}return r(t,e),t.prototype.Save=function(e){var t=this.m_Separator;if(e.size>0){var n={};e.forEach(function(e,t){n[t]=e});var r=JSON.stringify(n);t=""+this.m_Separator+r}return t},t.prototype.Load=function(){var e=new Map;try{var t=window.location.hash.slice(this.m_Separator.length);if(t.length>0){t=decodeURIComponent(t);var n=JSON.parse(t);for(var r in n)e.set(r,n[r])}}catch(e){console.log("error is "+e)}return e},t}(o.StorageBase);t.StorageHash=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=function(e){function t(t){return void 0===t&&(t=null),e.call(this,t)||this}return r(t,e),t.prototype.Save=function(e){var t=this.m_Separator;if(e.size>0){var n={};e.forEach(function(e,t){n[t]=e});var r=this.b64EncodeUnicode(JSON.stringify(n));t=""+this.m_Separator+r}return t},t.prototype.Load=function(){var e=new Map;try{var t=window.location.hash.slice(this.m_Separator.length);if(t.length>0){t=decodeURIComponent(this.b64DecodeUnicode(t));var n=JSON.parse(t);for(var r in n)e.set(r,n[r])}}catch(e){console.log("error is "+e)}return e},t.prototype.b64EncodeUnicode=function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(parseInt("0x"+t))}))},t.prototype.b64DecodeUnicode=function(e){return decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))},t}(o.StorageBase);t.Storage64=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(10),s=function(e){function t(t,n,r){void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=null);var o=e.call(this,r)||this;return o.m_KeySeparator="_",o.m_ItemSeparator="&",o.m_EgalSeparator="=",null!=t&&(o.m_KeySeparator=t),null!=n&&(o.m_ItemSeparator=n),o}return r(t,e),t.prototype.Save=function(e){var t=this,n=this.m_Separator;if(e.size>0){var r=new Array;e.forEach(function(e,n){r.push(t.serialize(null,n,e))}),n+=r.join(this.m_ItemSeparator)}return n},t.prototype.Load=function(){var e=new Map,t=new i.TreeItem("root",null);try{var n=window.location.hash.slice(this.m_Separator.length);if(n.length>0){n=decodeURIComponent(n);for(var r=n.split(this.m_ItemSeparator),o=0,s=r;o<s.length;o++){var a=s[o],c=a.split(this.m_EgalSeparator),u=c[0].split(this.m_KeySeparator),p=c[1];this.buildTree(t,u,p)}for(var h=0,l=t.child;h<l.length;h++){var a=l[h],f=this.deserialize(a);e.set(f[0],f[1])}}}catch(e){console.log("error is "+e)}return e},t.prototype.serialize=function(e,t,n){return n instanceof Array?this.serializeArray(e,t,n):n instanceof Object?this.serializeObject(e,t,n):this.serializeScalar(e,t,n)},t.prototype.serializeObject=function(e,t,n){var r=new Array;for(var o in n)r.push(this.serialize(this.joinKey(e,t),o,n[o]));return r.join(this.m_ItemSeparator)},t.prototype.serializeArray=function(e,t,n){for(var r=new Array,o=0;o<n.length;++o)r.push(this.serialize(this.joinKey(e,t),o.toString(),n[o]));return r.join(this.m_ItemSeparator)},t.prototype.serializeScalar=function(e,t,n){var r=""+n;return"string"==typeof n&&(r='"'+n+'"'),""+this.joinKey(e,t)+this.m_EgalSeparator+r},t.prototype.joinKey=function(e,t){var n=t;return null!=e&&(n=""+e+this.m_KeySeparator+n),n},t.prototype.buildTree=function(e,t,n){if(e.type=isNaN(parseInt(t[0]))?3:2,t.length>1){var r=e.child.find(function(e){return e.name==t[0]});null==r&&(r=new i.TreeItem(t[0],null),e.child.push(r)),this.buildTree(r,t.slice(1),n)}else{var o=n;n.startsWith('"')?o=n.substring(1,n.length-1):(o=parseFloat(n),isNaN(o)&&(o=!!n)),e.child.push(new i.TreeItem(t[0],o,1))}},t.prototype.deserialize=function(e){switch(e.type){case 1:return this.deserializeScalar(e);case 2:return this.deserializeArray(e);case 3:return this.deserializeObject(e)}throw"cannot deserialize this : "+e.name},t.prototype.deserializeScalar=function(e){return[e.name,e.value]},t.prototype.deserializeArray=function(e){for(var t=new Array,n=0,r=e.child;n<r.length;n++){var o=r[n],i=this.deserialize(o);t.push(i[1])}return[e.name,t]},t.prototype.deserializeObject=function(e){for(var t={},n=0,r=e.child;n<r.length;n++){var o=r[n],i=this.deserialize(o);t[i[0]]=i[1]}return[e.name,t]},t}(o.StorageBase);t.StorageParams=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){void 0===n&&(n=0),this.name=e,this.value=t,this.type=n,this.child=new Array}return e}();t.TreeItem=r}])});
//# sourceMappingURL=hashstorage.umd.min.js.map